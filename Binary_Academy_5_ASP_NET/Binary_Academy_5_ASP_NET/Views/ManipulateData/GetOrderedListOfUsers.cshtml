@model List<User>;
@{
    ViewData["Title"] = "GetOrderedListOfUsers";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>GetOrderedListOfUsers</h2>


<div class="list-group">

    <div class="row">
        <div class="col-md-12 mb-3">
            <ul class="list-group">
                @foreach (var user in Model)
                {
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        @user.name
                        <small>@user.avatar</small>
                        <p>
                            @{
                                string value = "#" + user.id;
                            }
                            <button class="btn btn-success" type="button" data-toggle="collapse" data-target=@value aria-expanded="false" aria-controls="@user.id">Todos</button>
                        </p>
                        <div class="row">
                            <div class="collapse multi-collapse" id=@user.id>
                                @await Html.PartialAsync("../Users/ListTodos", user)
                            </div>
                        </div>
                    </li>
                }
            </ul>
        </div>
    </div>
</div>